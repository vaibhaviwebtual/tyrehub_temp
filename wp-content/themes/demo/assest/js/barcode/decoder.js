Decoder={},Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(r,e){for(var o=r.length,d=new Array(o),a=0;a<o;a++)d[a]=255&r[a];var t=r.length-e;try{Decoder.rsDecoder.decode(d,t)}catch(r){throw r}for(a=0;a<e;a++)r[a]=d[a]},Decoder.decode=function(r){for(var e=new BitMatrixParser(r),o=e.readVersion(),d=e.readFormatInformation().ErrorCorrectionLevel,a=e.readCodewords(),t=DataBlock.getDataBlocks(a,o,d),c=0,n=0;n<t.length;n++)c+=t[n].NumDataCodewords;for(var D=new Array(c),s=0,w=0;w<t.length;w++){var i=t[w],l=i.Codewords,f=i.NumDataCodewords;Decoder.correctErrors(l,f);for(n=0;n<f;n++)D[s++]=l[n]}return new QRCodeDataBlockReader(D,o.VersionNumber,d.Bits)};