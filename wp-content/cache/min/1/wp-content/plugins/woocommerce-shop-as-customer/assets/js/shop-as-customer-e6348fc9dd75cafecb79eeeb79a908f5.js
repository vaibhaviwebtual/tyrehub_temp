jQuery(function($){$(document).ready(function(){var payment_methods_dom=$('.payment_methods.methods').clone();$('body').bind('checkout_error',function(){if(!$('.payment_methods.methods.shop_as_customer_methods').length){payment_methods_dom.appendTo('.payment_methods_wrap').unwrap()}});var button_clicked;$('form.checkout').on('click','[id^=cxsac_checkout_action_]',function(){button_clicked=$(this).attr('id')});$('form.checkout').bind('checkout_place_order',function(){$('form.checkout').find('[name^=cxsac_checkout_action_type]').remove();$('form.checkout').prepend('<input type="hidden" id="cxsac_checkout_action_type" name="cxsac_checkout_action_type" value="'+button_clicked+'" />');if(button_clicked=='cxsac_checkout_action_pay_later'){if($('.payment_methods.methods').length){payment_methods_dom=$('.payment_methods.methods').clone();$('.payment_methods.methods').addClass('shop_as_customer_methods');$('.payment_methods.methods.shop_as_customer_methods').wrap('<ul class="payment_methods_wrap payment_methods methods"></ul>');$('.payment_methods.methods.shop_as_customer_methods').remove()}}else if(button_clicked=='cxsac_checkout_action_pay_now'){}else if(button_clicked=='cxsac_checkout_action_pay_free'){}
return!0});function loadTipTip(){$(".cxsac-checkout-page-tooltip").cxsacTipTip({delay:10,fadeIn:70,fadeOut:70,maxWidth:"350px",content:$(".cxsac-checkout-page-tooltip-html").html()});$(".cxsac-success-page-tooltip").cxsacTipTip({delay:10,fadeIn:70,fadeOut:70,maxWidth:"350px",content:$(".cxsac-success-page-tooltip-html").html()})}
$('body').bind('updated_checkout',function(){loadTipTip()})
loadTipTip();$("#shop-as-customer-message").insertAfter('.wrap > h2');jQuery(document).on('click','.cxsac-shop-as-customer, .sac-settings-shop-as, [href*="page=shop_as_customer_button"], #wp-admin-bar-switch-to-customer',function(){open_sac_modal();return!1});if('#shop-as-customer'==window.location.hash){setTimeout(function(){open_sac_modal()},300)}
function open_sac_modal(){open_modal('.cxsac-switch-form',{position:'center',close_button:!0,close_click_outside:!1,});if('yes'==woocommerce_shop_as_customer_params.autofocus_search){setTimeout(function(){$('#cxsac-select2-user-search').select2('open')},350)}}
jQuery('.cxsac-switch-form .wc-customer-search.enhanced').on('change',function(e){if($(this).val()!=''){link=woocommerce_shop_as_customer_params.shop_as_url+'&user_id='+$(this).val();document.location=link}});function is_mobile(){return($(window).width()<610)}
function init_modal($close_button){if(!$('.cxsac-component-modal-popup').length){$('body').append('<div class="cxsac-component-modal-temp component-modal-hard-hide"></div>');$('body').append('<div class="cxsac-component-modal-cover component-modal-hard-hide"></div>');$popup_html='';$popup_html+='<div class="cxsac-component-modal-wrap cxsac-component-modal-popup component-modal-hard-hide">';$popup_html+='	<div class="cxsac-component-modal-container">';$popup_html+='		<div class="cxsac-component-modal-content">';$popup_html+='			<span class="cxsac-component-modal-cross cxsac-top-bar-cross cxsac-icon-cancel"></span>';$popup_html+='		</div>';$popup_html+='	</div>';$popup_html+='</div>';$('body').append($popup_html);$(document).on('click','.cxsac-component-modal-cross',function(){close_modal();return!1});$('html').click(function(event){if(0===$('[class*="component-modal-popup"]').filter('[class*="component-modal-hard-hide"]').length&&0!==$('[class*="-close-click-outside"]').length&&0===$(event.target).parents('[class*="component-modal-content"]').length){close_modal();return!1}})}}
function open_modal($content,$settings){$defaults={position:'center',cover:!0,close_button:!0,close_click_outside:!0,};$settings=$.extend(!0,$defaults,$settings);init_modal($settings.close_button);$('.cxsac-component-modal-temp').append($('.cxsac-component-modal-content').children().not('.cxsac-component-modal-cross'));if('string'==typeof $content){$content=$($content)}
if(!$content.length){close_modal();console.log('Content to load into modal does not exists.');return}
if($settings.close_click_outside)
$('.cxsac-component-modal-popup').addClass('cxsac-close-click-outside');else $('.cxsac-component-modal-popup').removeClass('cxsac-close-click-outside');if($settings.close_button)
$('.cxsac-component-modal-content').find('.cxsac-component-modal-cross').show();else $('.cxsac-component-modal-content').find('.cxsac-component-modal-cross').hide();$('.cxsac-component-modal-content').prepend($content);var $open_modals=$('[class*="component-modal-cover"], [class*="component-modal-wrap"]').not('[class*="component-modal-hard-hide"], [class*="cxsac-"]');if($open_modals.length){$z_index=0;$open_modals.each(function(){if($z_index<$(this).css('z-index')){$z_index=$(this).css('z-index')}});$('.cxsac-component-modal-cover, .cxsac-component-modal-wrap').css('z-index',$z_index+1);$open_modals.removeClass('component-modal-play-in').addClass('component-modal-play-out')}
$content.removeClass('component-modal-hard-hide');$('html').css({'margin-right':'17px','overflow':'hidden'});setTimeout(function(){$('.cxsac-component-modal-popup').removeClass('component-modal-hard-hide');$('.cxsac-component-modal-popup').addClass('component-modal-play-in')},1);if($settings.cover){$('.cxsac-component-modal-cover').removeClass('component-modal-hard-hide');$('.cxsac-component-modal-cover').addClass('component-modal-play-in')}else{$('.cxsac-component-modal-cover').removeClass('component-modal-play-in');setTimeout(function(){$('.cxsac-component-modal-cover').addClass('component-modal-hard-hide')},200)}}
function close_modal(){$('#cxsac-select2-user-search').select2('close');$('.cxsac-component-modal-cover, .cxsac-component-modal-popup').removeClass('component-modal-play-in');var $open_modals=$('[class*="component-modal-cover"], [class*="component-modal-wrap"]').not('[class*="component-modal-hard-hide"], [class*="cxsac-"]');$open_modals.removeClass('component-modal-play-out').addClass('component-modal-play-in');setTimeout(function(){$('.cxsac-component-modal-cover, .cxsac-component-modal-popup').addClass('component-modal-hard-hide');$('.cxsac-component-modal-popup').removeClass('cxsac-modal-position-center cxsac-modal-position-top-right cxsac-modal-position-top-center').css({top:''});if(!$('[class*="component-modal-popup"]').filter('[class*="component-modal-play-in"]').length){$('html').css({'margin-right':'','overflow':''})}},200)}
function resize_modal($to_height){init_modal();$modal_popup=$('.cxsac-component-modal-popup');var $to_height=($to_height)?$to_height:$modal_popup.outerHeight();var $margin_top=($to_height/2);$modal_popup.css({height:$to_height,marginTop:-$margin_top,transitionDelay:'0s',transition:'margin .3s'});setTimeout(function(){$modal_popup.css({height:'',transitionDelay:'',transition:''})},1000)}})})